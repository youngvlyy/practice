<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON</title>
</head>
<body>
    <h1>10_JSON_직렬화_역직렬화_Object.keys()로_key추출</h1>
    <pre>
        1. JSON = JavaScript Object Notation
        2. 자바스크립트 객체 표기법
        3. JSON은 단순 문자열
        4. 클라이언트가 서버로 데이터를 저장한 객체를 전송하려면 
            반드시 문자열 형식으로 만들어야 하는데 이것을 직렬화라고 한다.
            이때 만들어진 문자열 데이터를 JSON 데이터라고 한다.

            Serializing(직렬화) => JSON.stringify()를 이용해서 
            자바스크립트의 객체를 json 데이터로 변환할 수 있다. 

        5. 서버로부터 클라이언트에 전송된 JSON 데이터를 사용하려면
            다시 객체형식으로 복원해야 하는데 이 작업을 역직렬화라고 한다.

            Deserializing(역직렬화) => Json.parse()를 이용해서 
            Json 데이터를 객체로 변환할 수 있다.
    </pre>

    <script>
        //서버로 보내고 싶은 데이터라고 하자~!
        const person = [
            {username:'아이유', age:27, id:'IU', address: '청담동'},
            {username:'하니', age:16, id:'hani', address: '서초동'},
            {username:'둘리', age:7, id:'duly', address: '쌍문동'},
            ];

        //직렬화를 통해 문자열로 변환
        const strPerson = JSON.stringify(person, null, 2);//null,2 를 넣으면 정렬됌

        console.log('person =', person);
        console.log('person의 타입 =', typeof strPerson);

        console.log('----------------------------------------');

        console.log('strPerson =', strPerson);
        console.log('strPerson의 데이터타입 =', typeof strPerson);

        console.log('----------------------------------------');

        //역직렬화를 통해 위의 strPerson 문자열을 객체로 변환
        const objPerson = JSON.parse(strPerson);
        console.log('objPerson =', objPerson);
        console.log('objPerson의 데이터타입 =', typeof objPerson);

        //객체데이터에서 key 이름만을 추출하고 싶다면..
        const duly = {
            name: '둘리',
            age :7,
            isAnimal: true,
            friends: ['또치', '도우너']
        }
        const dulykeys = Object.keys(duly); //문자열 배열
        for(let key in duly){
            document.write(`${key} : ${duly[key]}<br>`);
        }
    </script>
</body>
</html>