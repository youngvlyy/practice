<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>60_비동기_실행순서와_코드의_가독성까지_해결한_async_함수</title>
</head>
<body>
    <h1>async, await</h1>

    <pre>
        1. Promise() 생성자함수를 이용한 문법의 가독성도 그리 좋지 않다.

        2. await을 붙이면 비동기처리가 완료될때 까지 기다려다가 다음 코드가 실행됨

        3. await 키워드를 사용하려면 함수앞에 async 키워드를 명시해야 한다.
    </pre>

    <script>
        //서버에서 데이터 수신후 Promise 객체를 리턴하는 함수
        function Fetch(sec){
            return new Promise((resolve, reject)=>{
                setTimeout(()=>{
                    resolve(`${sec}초후 서버에서 데이터 수신 완료`);
                }, sec*1000);
            });
        }

        //수신한 데이터를 처리하는 함수
       async function useFn(){
            let result = await Fetch(3);
            console.log(`${result}하여 화면에 출력합니다.`);

            result = await Fetch(2);
            console.log(`${result}하여 화면에 출력합니다.`);

            result = await Fetch(1);
            console.log(`${result}하여 화면에 출력합니다.`);

            return 'async 함수 종료~!';
        }
        useFn().then(result => console.log(result))
    </script>
</body>
</html>